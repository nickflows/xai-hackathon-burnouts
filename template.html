<!DOCTYPE html>
<html>
<head>
    <title>Twitter Scraper</title>
</head>
<body>
    <h1>Twitter Scraper</h1>
    <form method="POST">
        <label for="accounts">Twitter Accounts (comma-separated):</label>
        <input type="text" id="accounts" name="accounts" required><br><br>
        <label for="days">Number of days to fetch:</label>
        <input type="number" id="days" name="days" value="7" required><br><br>
        <input type="submit" value="Fetch Tweets">
    </form>
    <div id="results"></div>

    <script>
        document.querySelector('form').onsubmit = function(e) {
            e.preventDefault();
            fetch('/', {
                method: 'POST',
                body: new FormData(this)
            })
            .then(response => response.json())
            .then(data => {
                let resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = '';
                data.forEach(tweet => {
                    resultsDiv.innerHTML += `
                        <p><strong>User:</strong> ${tweet.username}</p>
                        <p><strong>Date:</strong> ${tweet.created_at}</p>
                        <p><strong>Tweet:</strong> ${tweet.text}</p>
                        <hr>
                    `;
                });
            });
        };
    </script>
</body>
</html>

